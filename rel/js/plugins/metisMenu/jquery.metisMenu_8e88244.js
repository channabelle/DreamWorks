!function(i){"use strict";function n(){var i=document.createElement("mm"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}function t(n){return this.each(function(){var t=i(this),e=t.data("mm"),o=i.extend({},s.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("mm",e=new s(this,o)),"string"==typeof n&&e[n]()})}i.fn.emulateTransitionEnd=function(n){var t=!1,s=this;i(this).one("mmTransitionEnd",function(){t=!0});var o=function(){t||i(s).trigger(e.end)};return setTimeout(o,n),this};var e=n();e&&(i.event.special.mmTransitionEnd={bindType:e.end,delegateType:e.end,handle:function(n){return i(n.target).is(this)?n.handleObj.handler.apply(this,arguments):void 0}});var s=function(n,t){this.$element=i(n),this.options=i.extend({},s.DEFAULTS,t),this.transitioning=null,this.init()};s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},s.prototype.init=function(){var n=this,t=this.options.activeClass;this.$element.find("li."+t).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+t).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+t).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(e){var s=i(this),o=s.parent("li"),a=o.children("ul");return e.preventDefault(),o.hasClass(t)?n.hide(a):n.show(a),n.options.doubleTapToGo&&n.doubleTapToGo(s)&&"#"!==s.attr("href")&&""!==s.attr("href")?(e.stopPropagation(),void(document.location=s.attr("href"))):void 0})},s.prototype.doubleTapToGo=function(i){var n=this.$element;return i.hasClass("doubleTapToGo")?(i.removeClass("doubleTapToGo"),!0):i.parent().children("ul").length?(n.find(".doubleTapToGo").removeClass("doubleTapToGo"),i.addClass("doubleTapToGo"),!1):void 0},s.prototype.show=function(n){var t=this.options.activeClass,o=i(n),a=o.parent("li");if(!this.transitioning&&!o.hasClass("in")){a.addClass(t),this.options.toggle&&this.hide(a.siblings().children("ul.in")),o.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var l=function(){o.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return e?void o.one("mmTransitionEnd",i.proxy(l,this)).emulateTransitionEnd(s.TRANSITION_DURATION).height(o[0].scrollHeight):l.call(this)}},s.prototype.hide=function(n){var t=this.options.activeClass,o=i(n);if(!this.transitioning&&o.hasClass("in")){o.parent("li").removeClass(t),o.height(o.height())[0].offsetHeight,o.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,o.removeClass("collapsing").addClass("collapse")};return e?void o.height(0).one("mmTransitionEnd",i.proxy(a,this)).emulateTransitionEnd(s.TRANSITION_DURATION):a.call(this)}};var o=i.fn.metisMenu;i.fn.metisMenu=t,i.fn.metisMenu.Constructor=s,i.fn.metisMenu.noConflict=function(){return i.fn.metisMenu=o,this}}(jQuery);